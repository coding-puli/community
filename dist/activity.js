(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{50:function(e,n,t){"use strict";t.d(n,"b",(function(){return g})),t.d(n,"a",(function(){return y}));var r=t(0),a=t.n(r);function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function c(e){if(!e.ok)throw Error(e.statusText);return e}function l(e,n){var t=e.url,a=e.method,i=e.data,l=o(Object(r.useState)(!!e),2),s=l[0],u=l[1];return Object(r.useEffect)((function(){e&&e.url&&function(){if(!e)return;u(!0),"GET"===e.method&&e.data&&delete e.data;(function(e){var n=e.url,t=e.method,r=e.data,a=r?JSON.stringify(r):null,o=new Headers({"content-type":"application/json",Accept:"application/json"});return fetch(n,{method:t,body:a,headers:o}).then(c).then((function(e){return e.redirected?(window.location.replace(e.url),e.url):e.json()}))})(e).then((function(e){n(e)})).catch((function(e){u(!1),n(void 0,e)})).finally((function(){u(!1)}))}()}),[t,a,i]),s}function s(e,n){var t=n.type,r=n.data;switch(t){case"events":return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.assign({},e,{events:n})}(e,r);case"albums":return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.assign({},e,{albums:n})}(e,r)}}var u={setEvents:function(e){return{type:"events",data:e.data}},setAlbums:function(e){return{type:"albums",data:e}},EVENTS:"events",ALBUMS:"albums"},d={events:[],albums:[]};function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function m(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var y=Object(r.createContext)(d);function g(e){var n=e.children,t=e.method,o=e.url,i=(e.data,e.type),c=m(Object(r.useReducer)(s,d),2),v=c[0],g=c[1],b=(l({method:t,url:o},(function(e,n){var t;i==u.EVENTS?e?t=u.setEvents(e.events):n&&console.log(n):i==u.ALBUMS&&(e?t=u.setAlbums(e.albums):n&&console.log(n)),t&&(console.log(t),g(t))})),function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){f(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},v));return a.a.createElement(y.Provider,{value:b},n)}},52:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return c}));var r=t(0),a=t(50);function o(){return Object(r.useContext)(a.a).events}function i(){return function(e){if(!e||0==e.length)return null;var n=Date.now(),t=1/0,r=-1;return e.forEach((function(e,a){var o=e.start_time,i=new Date(o).getTime(),c=Math.abs(i-n);c<t&&(t=c,r=a)})),e[r]}(o())}function c(){return Object(r.useContext)(a.a).albums}},56:function(e,n,t){var r=t(20),a=t(64);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},62:function(e,n,t){var r=t(20),a=t(63);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},63:function(e,n,t){(n=t(21)(!1)).push([e.i,".list-container {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n}",""]),e.exports=n},64:function(e,n,t){(n=t(21)(!1)).push([e.i,".image-container {\n  position: relative;\n}\n\n.image-wrapper{\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n}\n\n.image-container img{\n  width: 240px;\n  height: 180px;\n  object-fit: cover;\n}\n\n.events-container {\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  margin-top: 64px;\n\n}\n\n.event-container {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  height: 320px;\n  background: white;\n  margin: 16px;\n  border: 4px solid white;\n}\n\n.event {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  flex: 1; /*for get full height from parent*/\n  align-items: center;\n\n}\n\n.event-date {\n  position: absolute;\n  right: 4px;\n  bottom: -8px;\n  display: flex;\n  align-self: flex-end;\n  flex-direction: column;\n  border-radius: 2px;\n  padding: 4px 8px 4px 8px;\n  align-items: center;\n\n  border: 1px solid white;\n  background: var(--tertiary-bg-color);\n  color: white;\n  font-size: var(--description-font-size);\n}\n\n.event-date-container{\n  display: flex;\n}\n\n/*.event-date{\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  top: 12px;\n  right: 16px;\n  color: white;\n  border: 1px solid white;\n  border-radius: 8px;\n  padding: 8px 16px 8px 16px;\n  z-index: 2;\n  align-items: center;\n} */\n\n\n.event-date-date{\n  font-weight: 800;\n  font-size: 14px;\n}\n\n.event-month{\n  position: relative;\n  top: -4px;\n  font-weight: 200;\n  font-size: 12px;\n}\n\n.event-year{\n  font-weight: 200;\n  font-size: 14px;\n}\n\n.events-link{\n  padding-left: 0px;\n  padding-right: 0px;\n  padding-bottom: 2px;\n  color: #ffbac7;\n  border: 2px none #f0ad5f;\n  border-bottom-style: solid;\n  cursor: pointer\n}\n\n.event-description{\n  width: 220px;\n  padding: 2px;\n  display: flex;\n  flex-direction: column;\n  flex: 1;/*for get full height from parent*/\n}\n\n.event-name{\n  height: 18px;\n  white-space: nowrap;\n  color: var(--primary-text-color);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0px;\n}\n\n.event-summary{\n  height: 52px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: var(--primary-text-color);;\n  font-weight: 400;\n  font-size: var(--description-font-size);\n}\n\n.event-redirect{\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-top: 4px;\n}\n\n.event-location{\n  color: var(--primary-text-color);\n  font-weight: 400;\n  position: relative;\n  font-size: var(--description-font-size);\n  display: flex;\n  flex-direction: column;\n}\n\n.event-location a{\n  cursor: pointer;\n  text-decoration: none;\n  color: black;\n}\n\n.event-location-name{\n  font-weight: 800;\n  font-size: var(--description-font-size);\n}\n\n\n\n\n.event-url {\n  align-self: flex-end;\n  border: 1px solid white;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: var(--link-padding);\n  background: var(--tertiary-bg-color);\n}\n.event-read-more{\n  cursor: pointer;\n  text-decoration: none;\n  color: white;\n  font-size: var(--description-font-size);\n}\n\n\n.empty-div{\n  flex:1\n}\n\n.event-zip{\n  margin-top: 8px;\n}\n\n.location-icon {\n  display: inline-block;\n  padding-left: 30px;\n  margin: 0px 8px 0px 0px;\n  cursor: pointer;\n}\n.location-icon:after {\n  content: '';\n  background: var(--tertiary-bg-color);\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  left: 10px;\n  border-radius: 50% 50% 50% 0%;\n  transform: rotate(-50deg);\n}\n.location-icon:before {\n  content: '';\n  background: white;\n  width: 8px;\n  position: absolute;\n  height: 8px;\n  left: 16px;\n  border-radius: 50%;\n  top: 33px;\n  z-index: 1;\n}\n\n",""]),e.exports=n},8:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return b}));var r=t(0),a=t.n(r),o=t(50);t(62);function i(e){var n=e.data,t=e.onClick,r=e.ComponentType,o=n.map((function(e,n){return a.a.createElement(r,{key:n,onClick:function(){t&&t(e)},data:e})}));return a.a.createElement("div",{className:"list-container"},o)}var c=t(52),l=new Array(7);l[0]="Sunday",l[1]="Monday",l[2]="Tuesday",l[3]="Wednesday",l[4]="Thursday",l[5]="Friday",l[6]="Saturday";var s=new Array(12);function u(e){var n=new Date(e);return{day:l[n.getDay()],month:s[n.getMonth()],date:n.getDate(),year:n.getFullYear()}}s[0]="Jan",s[1]="Feb",s[2]="Mar",s[3]="Apr",s[4]="May",s[5]="Jun",s[6]="Jul",s[7]="Aug",s[8]="Sep",s[9]="Oct",s[10]="Nov",s[11]="Dec";function d(e){var n=e.event,t=n.id,r=n.name,o=n.description,i=(n.category,n.place),c=u(n.start_time),l=(c.date,c.day,c.month,c.year,null);i&&i.location&&(l=a.a.createElement(p,i));var s="https://www.facebook.com/events/".concat(t,"/");return a.a.createElement("div",{className:"event-description"},a.a.createElement("h4",{className:"event-name"},r),a.a.createElement("p",{className:"event-summary"},o),a.a.createElement("div",{className:"empty-div"}),a.a.createElement("div",{className:"event-redirect"},l,a.a.createElement("div",{className:"empty-div"}),a.a.createElement("div",{className:"event-url"},a.a.createElement("a",{className:"event-read-more",target:"_blank",href:s},"Read More"))))}function p(e){var n=e.name,t=e.location,r=t.city,o=t.country,i=(t.zip,t.latitude),c=t.longitude,l="https://www.google.com/maps/search/?api=1&query=".concat(i,",").concat(c);return a.a.createElement("div",{className:"event-location"},a.a.createElement("a",{href:l,target:"_blank"},a.a.createElement("span",{className:"event-location-name"},n)),a.a.createElement("div",{className:"event-place"},a.a.createElement("span",{className:"event-city"},r,","),a.a.createElement("span",{className:"event-country"},o)))}t(56);function f(e){var n=e.date,t=(e.day,e.month),r=(e.year,e.className);return a.a.createElement("div",{className:r},a.a.createElement("div",{className:"event-date-date"},n),a.a.createElement("div",{className:"event-month"},t))}function m(e){var n=e.url,t=u(e.start),r=t.date,o=t.day,i=t.month,c=t.year;return a.a.createElement("div",{className:"image-container"},a.a.createElement(f,{className:"event-date",date:r,day:o,month:i,year:c}),a.a.createElement("img",{src:n}))}function v(e){var n=e.data,t=n.cover,r=n.start_time,o=null;return t&&(o=a.a.createElement(m,{url:t.source,start:r})),a.a.createElement("div",{className:"event-container"},a.a.createElement("div",{className:"event"},o,a.a.createElement(d,{event:n})))}function y(e){e.gap;var n=Object(c.b)();Object(c.c)();return n&&0!=n.length?a.a.createElement("div",{className:"events-container"},a.a.createElement(i,{data:n,ComponentType:v})):null}var g="https://graph.facebook.com/me?fields=events{attending_count,place,interested_count,photos,category,cover,start_time,end_time,description,name,picture}&access_token=".concat("EAAGLgZB5xocIBABnei8kZAZAJfjgMdvAcEDGXDO3V0J4EE5TNCp0frJw9ST6edzUcfyu0LPScGo57lc6hMoR3SpuPGgB60D1A7K8Vd1HgZAbvN13MME4imRZBB8bVeTCo6WEZBLNUePuIrobi0lbZBvpWlPrI96Ydv1wE5aw8gNIwZDZD");function b(e){return a.a.createElement("div",{className:"activity-page"},a.a.createElement(o.b,{url:g,method:"GET",type:"events"},a.a.createElement(y,{gap:16})))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hYnN0cmFjdC9ob29rcy91c2VSZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL2NvbnRleHQvcmVkdWNlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vY29udGV4dC9yZWR1Y2Vycy9zdG9yZS5qcyIsIndlYnBhY2s6Ly8vLi9jb250ZXh0L3Byb3ZpZGVyLmpzIiwid2VicGFjazovLy8uL2NvbnRleHQvY29uc3VtZXIuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9ldmVudHMvc3R5bGUuY3NzP2UwZWMiLCJ3ZWJwYWNrOi8vLy4vYWJzdHJhY3QvdWkvTGlzdC9zdHlsZS5jc3M/ZmJlNSIsIndlYnBhY2s6Ly8vLi9hYnN0cmFjdC91aS9MaXN0L3N0eWxlLmNzcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2V2ZW50cy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vYWJzdHJhY3QvdWkvTGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2V2ZW50cy9oZWxwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9ldmVudHMvRXZlbnREZXNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2V2ZW50cy9FdmVudERhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9ldmVudHMvSW1hZ2VMYXlvdmVyLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZXZlbnRzL0V2ZW50LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZXZlbnRzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3BhZ2VzL2FjdGl2aXR5L2luZGV4LmpzIl0sIm5hbWVzIjpbImhhbmRsZUVycm9ycyIsInJlc3BvbnNlIiwib2siLCJFcnJvciIsInN0YXR1c1RleHQiLCJ1c2VSZXF1ZXN0IiwicmVxdWVzdCIsInJlc3BvbnNlSGFuZGxlciIsInVybCIsIm1ldGhvZCIsImRhdGEiLCJ1c2VTdGF0ZSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwidXNlRWZmZWN0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJoZWFkZXJzIiwiSGVhZGVycyIsImZldGNoIiwidGhlbiIsInJlZGlyZWN0ZWQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlcGxhY2UiLCJqc29uIiwiYWpheEZldGNoIiwiZXJyb3IiLCJ1bmRlZmluZWQiLCJsb2FkRGF0YSIsInJlZHVjZXIiLCJzdGF0ZSIsImFjdGlvbiIsInR5cGUiLCJjdXJyZW50U3RhdGUiLCJuZXdWYWx1ZSIsIk9iamVjdCIsImFzc2lnbiIsImV2ZW50cyIsInVwZGF0ZUV2ZW50cyIsImFsYnVtcyIsInVwZGF0ZUFsYnVtcyIsImFjdGlvbkNyZWF0b3JzIiwic2V0RXZlbnRzIiwic2V0QWxidW1zIiwiRVZFTlRTIiwiQUxCVU1TIiwic3RvcmUiLCJEYXRhQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJTZXJ2aWNlUHJvdmlkZXIiLCJwcm9wcyIsImNoaWxkcmVuIiwidXNlUmVkdWNlciIsImdsb2JhbFN0YXRlIiwiZGlzcGF0Y2giLCJjb250ZXh0IiwiYWN0aW9uT2JqIiwiY29uc29sZSIsImxvZyIsIlByb3ZpZGVyIiwidmFsdWUiLCJ1c2VHZXRFdmVudHMiLCJ1c2VDb250ZXh0IiwidXNlR2V0TmVhcmVzdEV2ZW50IiwibGVuZ3RoIiwiY3VycmVudFRpbWUiLCJEYXRlIiwibm93IiwibmVhcmVzdCIsIkluZmluaXR5IiwibmVhcmVzdERhdGVJbmRleCIsImZvckVhY2giLCJldmVudCIsImluZGV4IiwiZGF0ZUFzU3RyIiwidGltZSIsImdldFRpbWUiLCJkaXN0YW5jZSIsIk1hdGgiLCJhYnMiLCJuZWFyZXN0RXZlbnQiLCJ1c2VHZXRBbGJ1bXMiLCJhcGkiLCJjb250ZW50IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJtb2R1bGUiLCJpIiwib3B0aW9ucyIsImV4cG9ydHMiLCJsb2NhbHMiLCJfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18iLCJwdXNoIiwiTGlzdCIsIm9uQ2xpY2siLCJDb21wb25lbnRUeXBlIiwibGlzdFVJIiwibWFwIiwibGlzdEl0ZW0iLCJrZXkiLCJjbGFzc05hbWUiLCJ3ZWVrZGF5QXJyYXkiLCJBcnJheSIsIm1vbnRoQXJyYXkiLCJnZXRGb3JtYXR0ZWREYXRlIiwiZGF0ZUFzU3RyaW5nIiwiZGF0ZU9iamVjdCIsImRheSIsImdldERheSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJkYXRlIiwiZ2V0RGF0ZSIsInllYXIiLCJnZXRGdWxsWWVhciIsIkV2ZW50RGVzY3JpcHRpb24iLCJldmVudElkIiwiaWQiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJwbGFjZSIsImNhdGVnb3J5Iiwic3RhcnRfdGltZSIsInBsYWNlVUkiLCJFdmVudFBsYWNlIiwiZXZlbnRVcmkiLCJ0YXJnZXQiLCJocmVmIiwiY2l0eSIsImNvdW50cnkiLCJsYXRpdHVkZSIsInppcCIsImxvbmdpdHVkZSIsImdvb2dsZU1hcFVyaSIsIkV2ZW50RGF0ZSIsIkV2ZW50SW1hZ2VMYXlvdmVyIiwic3RhcnQiLCJzcmMiLCJFdmVudCIsImNvdmVyIiwiaW1hZ2VVSSIsInNvdXJjZSIsIkV2ZW50cyIsImdhcCIsImV2ZW50c1VybCIsIkFjdGl2aXR5Il0sIm1hcHBpbmdzIjoid25DQUVBLFNBQVNBLEVBQWFDLEdBQ3JCLElBQUtBLEVBQVNDLEdBQ2IsTUFBTUMsTUFBTUYsRUFBU0csWUFFdEIsT0FBT0gsRUF5Qk8sU0FBU0ksRUFBV0MsRUFBU0MsR0FBaUIsSUFDckRDLEVBQXFCRixFQUFyQkUsSUFBS0MsRUFBZ0JILEVBQWhCRyxPQUFRQyxFQUFRSixFQUFSSSxLQUR3QyxJQUU5QkMscUJBQVdMLEdBRm1CLEdBRXJETSxFQUZxRCxLQUU1Q0MsRUFGNEMsS0FnQzVELE9BNUJBQyxxQkFBVSxXQUNKUixHQUFXQSxFQUFRRSxLQUt6QixXQUNDLElBQUtGLEVBQ0osT0FFRE8sR0FBVyxHQUVZLFFBQW5CUCxFQUFRRyxRQUFvQkgsRUFBUUksYUFDaENKLEVBQVFJLE1BdENsQixZQUF1QyxJQUFuQkYsRUFB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RUFHN0JBLE1BQU9JLEVBSHNCLEVBR3RCQSxLQUV6QixPQUNBLHlCQUFLYixVQUFVLG1CQUNaLGtCQUFDa0MsRUFBRCxDQUFXbEMsVUFBVSxhQUNWVyxLQUFNQSxFQUNOSixJQUFLQSxFQUNMRSxNQUFPQSxFQUNQSSxLQUFNQSxJQUVqQix5QkFBS3dCLElBQUtuSSxLQ1pDLFNBQVNvSSxFQUFNeEYsR0FBTyxJQUU3QjFDLEVBQVEwQyxFQUFSMUMsS0FDQ21JLEVBQXFCbkksRUFBckJtSSxNQUFPakIsRUFBY2xILEVBQWRrSCxXQUVYa0IsRUFBVSxLQUlkLE9BSElELElBQ0hDLEVBQVcsa0JBQUNMLEVBQUQsQ0FBbUJqSSxJQUFLcUksRUFBTUUsT0FBUUwsTUFBT2QsS0FHekQseUJBQUt0QixVQUFVLG1CQUNkLHlCQUFLQSxVQUFVLFNBQ2J3QyxFQUNELGtCQUFDekIsRUFBRCxDQUFrQjNDLE1BQU9oRSxNQ1piLFNBQVNzSSxFQUFPNUYsR0FDZkEsRUFBUDZGLElBRDRCLElBRTlCMUcsRUFBU3dCLGNBQ01FLGNBRXJCLE9BQUkxQixHQUEyQixHQUFqQkEsRUFBTzJCLE9BTXBCLHlCQUFLb0MsVUFBVSxvQkFDZCxrQkFBQ1AsRUFBRCxDQUFNckYsS0FBTTZCLEVBQVEwRCxjQUFlMkMsS0FON0IsS0NQVCxJQUNNTSxFQUFZLHVLQUFILE9BREssc0xBR0wsU0FBU0MsRUFBUy9GLEdBQ2hDLE9BQ0EseUJBQUtrRCxVQUFVLGlCQUNkLGtCQUFDLElBQUQsQ0FBaUI5RixJQUFLMEksRUFBV3pJLE9BQU8sTUFBTXlCLEtBQUssVUFDbEQsa0JBQUM4RyxFQUFELENBQVFDLElBQUsiLCJmaWxlIjoiYWN0aXZpdHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBoYW5kbGVFcnJvcnMocmVzcG9uc2UpIHtcblx0aWYgKCFyZXNwb25zZS5vaykge1xuXHRcdHRocm93IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuXHR9XG5cdHJldHVybiByZXNwb25zZTtcbn1cblxuXG5mdW5jdGlvbiBhamF4RmV0Y2goe3VybCwgbWV0aG9kLCBkYXRhfSl7XG5cdGNvbnN0IGJvZHkgPSBkYXRhID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBudWxsO1xuXHRjb25zdCBoZWFkZXJPcHRpb25zID0ge1xuXHRcdCdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdFx0J0FjY2VwdCc6J2FwcGxpY2F0aW9uL2pzb24nXG5cdH07XG5cdGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhoZWFkZXJPcHRpb25zKTtcblx0Y29uc3QgZmV0Y2hPcHRpb25zID0geyBtZXRob2QsIGJvZHksIGhlYWRlcnN9O1xuXHRyZXR1cm4gZmV0Y2godXJsLGZldGNoT3B0aW9ucylcblx0LnRoZW4oaGFuZGxlRXJyb3JzKVxuXHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdGlmKHJlc3BvbnNlLnJlZGlyZWN0ZWQpe1xuXHRcdFx0d2luZG93LmxvY2F0aW9uLnJlcGxhY2UocmVzcG9uc2UudXJsKTtcblx0XHRcdHJldHVybiByZXNwb25zZS51cmxcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcblx0XHR9XG5cdH0pXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlUmVxdWVzdChyZXF1ZXN0LCByZXNwb25zZUhhbmRsZXIpIHtcblx0Y29uc3Qge3VybCwgbWV0aG9kLCBkYXRhfSA9IHJlcXVlc3Q7XG5cdGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKCEhcmVxdWVzdCk7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRcdGlmIChyZXF1ZXN0ICYmIHJlcXVlc3QudXJsKSB7XG5cdFx0XHRcdGxvYWREYXRhKCk7XG5cdFx0XHR9XG5cdFx0fSwgW3VybCwgbWV0aG9kLCBkYXRhXSk7XG5cblx0ZnVuY3Rpb24gbG9hZERhdGEoKSB7XG5cdFx0aWYgKCFyZXF1ZXN0KSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHNldExvYWRpbmcodHJ1ZSk7XG5cblx0XHRpZiAocmVxdWVzdC5tZXRob2QgPT09ICdHRVQnICYmIHJlcXVlc3QuZGF0YSkge1xuXHRcdFx0ZGVsZXRlIHJlcXVlc3QuZGF0YTtcblx0XHR9XG5cblx0XHRhamF4RmV0Y2gocmVxdWVzdClcblx0XHQudGhlbihyZXNwb25zZSA9PiB7XG5cdFx0XHRyZXNwb25zZUhhbmRsZXIocmVzcG9uc2UpXG5cdFx0fSkuY2F0Y2goKGVycm9yKSA9PiB7XG5cdFx0XHRzZXRMb2FkaW5nKGZhbHNlKTtcblx0XHRcdHJlc3BvbnNlSGFuZGxlcih1bmRlZmluZWQsIGVycm9yKVxuXHRcdH0pXG5cdFx0LmZpbmFsbHkoKCkgPT4ge1xuXHRcdFx0c2V0TG9hZGluZyhmYWxzZSk7XG5cdFx0fSk7XG5cdH1cblxuXHRyZXR1cm4gbG9hZGluZztcbn1cbiIsIi8vIGFjdGlvbnNcbmNvbnN0IEVWRU5UUyA9IFwiZXZlbnRzXCI7XG5jb25zdCBBTEJVTVMgPSBcImFsYnVtc1wiO1xuXG4vLyBhY3Rpb24gY3JlYXRvcnMgLy8gdGhlc2UgYXJlIGRpc3BhdGNoZWQgYnkgc2VuZGluZyB0aGUgcmV0dXJuIHR5cGUgb2YgYWN0aW9uIGNyZWF0b3JzXG5mdW5jdGlvbiBzZXRFdmVudHMoZXZlbnRzKXtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBFVkVOVFMsXG5cdFx0ZGF0YTogZXZlbnRzLmRhdGFcblx0fVxufVxuXG5mdW5jdGlvbiBzZXRBbGJ1bXMoYWxidW1zKXtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBBTEJVTVMsXG5cdFx0ZGF0YTogYWxidW1zXG5cdH1cbn1cblxuXG5mdW5jdGlvbiB1cGRhdGVFdmVudHMoY3VycmVudFN0YXRlLCBuZXdWYWx1ZSA9IFtdKXtcblx0cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGN1cnJlbnRTdGF0ZSx7XG5cdFx0ZXZlbnRzOiBuZXdWYWx1ZVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlQWxidW1zKGN1cnJlbnRTdGF0ZSwgbmV3VmFsdWUgPSBbXSl7XG5cdHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjdXJyZW50U3RhdGUse1xuXHRcdGFsYnVtczogbmV3VmFsdWVcblx0fSk7XG59XG5cbi8vIHJlZHVjZXJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbil7XG5cdGNvbnN0IHt0eXBlLCBkYXRhfSA9IGFjdGlvbjtcblx0c3dpdGNoICh0eXBlKSB7XG5cdFx0Y2FzZSBFVkVOVFM6XG5cdFx0XHRyZXR1cm4gdXBkYXRlRXZlbnRzKHN0YXRlLCBkYXRhKVxuXHRcdGNhc2UgQUxCVU1TOlxuXHRcdFx0cmV0dXJuIHVwZGF0ZUFsYnVtcyhzdGF0ZSwgZGF0YSlcblx0fVxufVxuXG5cbmV4cG9ydCBjb25zdCBhY3Rpb25DcmVhdG9ycyA9IHtcblx0c2V0RXZlbnRzLFxuXHRzZXRBbGJ1bXMsXG5cdEVWRU5UUyxcblx0QUxCVU1TXG59O1xuIiwiY29uc3Qgc3RvcmUgPSB7XG5cdGV2ZW50czogW10sXG5cdGFsYnVtczogW11cbn07XG5cblxuZXhwb3J0IHtcblx0c3RvcmVcbn0iLCJpbXBvcnQgUmVhY3QsIHtjcmVhdGVDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVJlZHVjZXJ9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICAgdXNlUmVxdWVzdCBmcm9tIFwiYWJzdHJhY3QvaG9va3MvdXNlUmVxdWVzdFwiO1xuaW1wb3J0ICByZWR1Y2VyLCB7YWN0aW9uQ3JlYXRvcnN9IGZyb20gXCIuL3JlZHVjZXJzXCI7XG5pbXBvcnQgIHtzdG9yZX0gZnJvbSBcIi4vcmVkdWNlcnMvc3RvcmVcIjtcblxuXG5jb25zdCBEYXRhQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoc3RvcmUpO1xuXG4vL3RvZG8gUmVmYWN0b3Jcbi8vIDEuIGFic3RyYWN0XG4vLyAyLiBvcHRpb24gZm9yIExhenkgZmV0Y2hpbmdcbmZ1bmN0aW9uIFNlcnZpY2VQcm92aWRlcihwcm9wcyl7XG5cdGNvbnN0IHsgY2hpbGRyZW4sIG1ldGhvZCwgdXJsLCBkYXRhLCB0eXBlIH0gPSBwcm9wcztcblx0Y29uc3QgW2dsb2JhbFN0YXRlLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKHJlZHVjZXIsIHN0b3JlKTtcblxuXHRjb25zdCBsb2FkaW5nID0gdXNlUmVxdWVzdCh7bWV0aG9kLCB1cmx9LCAocmVzcG9uc2UsIGVycm9yKT0+e1xuXHRcdGxldCBhY3Rpb25PYmo7XG5cdFx0aWYodHlwZSA9PSBhY3Rpb25DcmVhdG9ycy5FVkVOVFMpe1xuXHRcdFx0aWYocmVzcG9uc2Upe1xuXHRcdFx0XHRhY3Rpb25PYmogPSBhY3Rpb25DcmVhdG9ycy5zZXRFdmVudHMocmVzcG9uc2UuZXZlbnRzKVxuXHRcdFx0fSBlbHNlIGlmKGVycm9yKXtcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZih0eXBlID09IGFjdGlvbkNyZWF0b3JzLkFMQlVNUyl7XG5cdFx0XHRpZihyZXNwb25zZSl7XG5cdFx0XHRcdGFjdGlvbk9iaiA9IGFjdGlvbkNyZWF0b3JzLnNldEFsYnVtcyhyZXNwb25zZS5hbGJ1bXMpXG5cdFx0XHR9IGVsc2UgaWYoZXJyb3Ipe1xuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKGFjdGlvbk9iail7IC8vIHJlLXJlbmRlclxuXHRcdFx0Y29uc29sZS5sb2coYWN0aW9uT2JqKVxuXHRcdFx0ZGlzcGF0Y2goYWN0aW9uT2JqKVxuXHRcdH1cblx0fSk7XG5cblxuXHRpZihsb2FkaW5nKSB7XG5cdFx0Ly8gYWRkIExvYWRlciBVSSBhcyBjaGlsZHJlbiB3aXRoIHotaW5kZXggMSBvbiB0b3Agb2YgY2hpbGRyZW5cblx0fVxuXG5cdGNvbnN0IGNvbnRleHQgPSB7IC4uLmdsb2JhbFN0YXRlIH07XG5cdHJldHVybiAoXG5cdFx0PERhdGFDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0fT5cblx0XHRcdHtjaGlsZHJlbn1cblx0XHQ8L0RhdGFDb250ZXh0LlByb3ZpZGVyPlxuXHQpXG59XG5cbmZ1bmN0aW9uIHVzZUdldENvbnRleHRTdGF0ZUZvclJlcXVlc3QocmVkdWNlciwgc3RvcmUsIHJlcXVlc3RIYW5kbGVyKXtcblx0Y29uc3QgW2dsb2JhbFN0YXRlLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKHJlZHVjZXIsIHN0b3JlKTtcblx0cmVxdWVzdEhhbmRsZXIoKVxuXG59XG5cblxuXG5leHBvcnQge1xuXHQvLyBwcm92aWRlclxuXHRTZXJ2aWNlUHJvdmlkZXIsXG5cdC8vIGNvbnN1bWVyc1xuXHREYXRhQ29udGV4dFxufSIsImltcG9ydCBSZWFjdCwge3VzZUNvbnRleHQsIHVzZUVmZmVjdCx1c2VTdGF0ZX0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtEYXRhQ29udGV4dH0gZnJvbSAnLi9wcm92aWRlcic7XG5cbmZ1bmN0aW9uIG5lYXJlc3RFdmVudChldmVudHMpIHtcblx0aWYoIWV2ZW50cyB8fCBldmVudHMubGVuZ3RoID09IDApe1xuXHRcdHJldHVybiBudWxsO1xuXHR9O1xuXG5cdGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcblxuXHRsZXQgbmVhcmVzdCA9IEluZmluaXR5O1xuXHRsZXQgbmVhcmVzdERhdGVJbmRleCA9IC0xO1xuXG5cdGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCwgaW5kZXgpIHtcblx0XHRjb25zdCBkYXRlQXNTdHIgPSBldmVudFsnc3RhcnRfdGltZSddO1xuXHRcdGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlQXNTdHIpO1xuXHRcdGNvbnN0IHRpbWUgPSBkYXRlLmdldFRpbWUoKTtcblx0XHRjb25zdCBkaXN0YW5jZSA9IE1hdGguYWJzKHRpbWUgLSBjdXJyZW50VGltZSk7XG5cdFx0aWYgKGRpc3RhbmNlIDwgbmVhcmVzdCkge1xuXHRcdFx0bmVhcmVzdCA9IGRpc3RhbmNlO1xuXHRcdFx0bmVhcmVzdERhdGVJbmRleCA9IGluZGV4XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIGV2ZW50c1tuZWFyZXN0RGF0ZUluZGV4XTtcbn1cblxuXG5mdW5jdGlvbiB1c2VHZXRFdmVudHMoKXtcblx0Y29uc3Qge2V2ZW50c30gPSB1c2VDb250ZXh0KERhdGFDb250ZXh0KTtcblx0cmV0dXJuIGV2ZW50cztcbn1cblxuZnVuY3Rpb24gdXNlR2V0TmVhcmVzdEV2ZW50KCl7XG5cdGNvbnN0IGV2ZW50cyA9IHVzZUdldEV2ZW50cygpO1xuXHRyZXR1cm4gbmVhcmVzdEV2ZW50KGV2ZW50cyk7XG59XG5cbmZ1bmN0aW9uIHVzZUdldEV2ZW50RnJvbVN0b3JlKGV2ZW50SWQpe1xuXHRjb25zdCB7ZXZlbnRzfSA9IHVzZUNvbnRleHQoRGF0YUNvbnRleHQpO1xuXHRjb25zdCB0b3RhbEV2ZW50cyA9ICBldmVudHMubGVuZ3RoO1xuXG5cdGxldCBldmVudDtcblxuXHRmb3IgKGxldCBpPTA7IGkgPCB0b3RhbEV2ZW50czsgaSsrKXtcblx0XHRldmVudCA9IGV2ZW50c1tpXTtcblx0XHRpZihldmVudC5pZCA9PT0gZXZlbnRJZCl7XG5cdFx0XHRyZXR1cm4gZXZlbnQ7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHVzZUdldEFsYnVtcygpe1xuXHRjb25zdCB7YWxidW1zfSA9IHVzZUNvbnRleHQoRGF0YUNvbnRleHQpO1xuXHRyZXR1cm4gYWxidW1zO1xufVxuXG4vLyB0b2RvOiBzdXBwb3J0IGxhenkgZmV0Y2hpbmdcbi8vIGZpcnN0IHRpbWUgZmV0Y2ggZnJvbSBzZXJ2ZXIgYW5kIHN0b3JlIGluIGxvY2FsIHN0b3JlXG4vLyBzZWNvbmQgdGltZSBmZXRjaCBmcm9tIHN0b3JlXG5mdW5jdGlvbiB1c2VHZXRBbGJ1bUZyb21TdG9yZShhbGJ1bUlkKXtcblx0Y29uc3Qge2FsYnVtc30gPSB1c2VDb250ZXh0KERhdGFDb250ZXh0KTtcblx0Y29uc3QgdG90YWxBbGJ1bXMgPSAgYWxidW1zLmxlbmd0aDtcblxuXHRsZXQgYWxidW07XG5cblx0Zm9yIChsZXQgaT0wOyBpIDwgdG90YWxBbGJ1bXM7IGkrKyl7XG5cdFx0YWxidW0gPSBhbGJ1bXNbaV07XG5cdFx0aWYoYWxidW0uaWQgPT09IGFsYnVtSWQpe1xuXHRcdFx0cmV0dXJuIGFsYnVtO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQge1xuXHR1c2VHZXRFdmVudHMsXG5cdHVzZUdldE5lYXJlc3RFdmVudCxcblx0dXNlR2V0RXZlbnRGcm9tU3RvcmUsXG5cdHVzZUdldEFsYnVtcyxcblx0dXNlR2V0QWxidW1Gcm9tU3RvcmVcbn0iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmxpc3QtY29udGFpbmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxufVwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmltYWdlLWNvbnRhaW5lciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5pbWFnZS13cmFwcGVye1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICByaWdodDogMHB4O1xcbiAgYm90dG9tOiAwcHg7XFxufVxcblxcbi5pbWFnZS1jb250YWluZXIgaW1ne1xcbiAgd2lkdGg6IDI0MHB4O1xcbiAgaGVpZ2h0OiAxODBweDtcXG4gIG9iamVjdC1maXQ6IGNvdmVyO1xcbn1cXG5cXG4uZXZlbnRzLWNvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcXG4gIG1hcmdpbi10b3A6IDY0cHg7XFxuXFxufVxcblxcbi5ldmVudC1jb250YWluZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgaGVpZ2h0OiAzMjBweDtcXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xcbiAgbWFyZ2luOiAxNnB4O1xcbiAgYm9yZGVyOiA0cHggc29saWQgd2hpdGU7XFxufVxcblxcbi5ldmVudCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgZmxleDogMTsgLypmb3IgZ2V0IGZ1bGwgaGVpZ2h0IGZyb20gcGFyZW50Ki9cXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuXFxufVxcblxcbi5ldmVudC1kYXRlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHJpZ2h0OiA0cHg7XFxuICBib3R0b206IC04cHg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24tc2VsZjogZmxleC1lbmQ7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbiAgcGFkZGluZzogNHB4IDhweCA0cHggOHB4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG5cXG4gIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xcbiAgYmFja2dyb3VuZDogdmFyKC0tdGVydGlhcnktYmctY29sb3IpO1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgZm9udC1zaXplOiB2YXIoLS1kZXNjcmlwdGlvbi1mb250LXNpemUpO1xcbn1cXG5cXG4uZXZlbnQtZGF0ZS1jb250YWluZXJ7XFxuICBkaXNwbGF5OiBmbGV4O1xcbn1cXG5cXG4vKi5ldmVudC1kYXRle1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICB0b3A6IDEycHg7XFxuICByaWdodDogMTZweDtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xcbiAgcGFkZGluZzogOHB4IDE2cHggOHB4IDE2cHg7XFxuICB6LWluZGV4OiAyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59ICovXFxuXFxuXFxuLmV2ZW50LWRhdGUtZGF0ZXtcXG4gIGZvbnQtd2VpZ2h0OiA4MDA7XFxuICBmb250LXNpemU6IDE0cHg7XFxufVxcblxcbi5ldmVudC1tb250aHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHRvcDogLTRweDtcXG4gIGZvbnQtd2VpZ2h0OiAyMDA7XFxuICBmb250LXNpemU6IDEycHg7XFxufVxcblxcbi5ldmVudC15ZWFye1xcbiAgZm9udC13ZWlnaHQ6IDIwMDtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG59XFxuXFxuLmV2ZW50cy1saW5re1xcbiAgcGFkZGluZy1sZWZ0OiAwcHg7XFxuICBwYWRkaW5nLXJpZ2h0OiAwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMnB4O1xcbiAgY29sb3I6ICNmZmJhYzc7XFxuICBib3JkZXI6IDJweCBub25lICNmMGFkNWY7XFxuICBib3JkZXItYm90dG9tLXN0eWxlOiBzb2xpZDtcXG4gIGN1cnNvcjogcG9pbnRlclxcbn1cXG5cXG4uZXZlbnQtZGVzY3JpcHRpb257XFxuICB3aWR0aDogMjIwcHg7XFxuICBwYWRkaW5nOiAycHg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGZsZXg6IDE7Lypmb3IgZ2V0IGZ1bGwgaGVpZ2h0IGZyb20gcGFyZW50Ki9cXG59XFxuXFxuLmV2ZW50LW5hbWV7XFxuICBoZWlnaHQ6IDE4cHg7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgY29sb3I6IHZhcigtLXByaW1hcnktdGV4dC1jb2xvcik7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICBtYXJnaW46IDBweDtcXG59XFxuXFxuLmV2ZW50LXN1bW1hcnl7XFxuICBoZWlnaHQ6IDUycHg7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICBjb2xvcjogdmFyKC0tcHJpbWFyeS10ZXh0LWNvbG9yKTs7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgZm9udC1zaXplOiB2YXIoLS1kZXNjcmlwdGlvbi1mb250LXNpemUpO1xcbn1cXG5cXG4uZXZlbnQtcmVkaXJlY3R7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XFxuICBtYXJnaW4tdG9wOiA0cHg7XFxufVxcblxcbi5ldmVudC1sb2NhdGlvbntcXG4gIGNvbG9yOiB2YXIoLS1wcmltYXJ5LXRleHQtY29sb3IpO1xcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGZvbnQtc2l6ZTogdmFyKC0tZGVzY3JpcHRpb24tZm9udC1zaXplKTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbn1cXG5cXG4uZXZlbnQtbG9jYXRpb24gYXtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIGNvbG9yOiBibGFjaztcXG59XFxuXFxuLmV2ZW50LWxvY2F0aW9uLW5hbWV7XFxuICBmb250LXdlaWdodDogODAwO1xcbiAgZm9udC1zaXplOiB2YXIoLS1kZXNjcmlwdGlvbi1mb250LXNpemUpO1xcbn1cXG5cXG5cXG5cXG5cXG4uZXZlbnQtdXJsIHtcXG4gIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xcbiAgYm9yZGVyOiAxcHggc29saWQgd2hpdGU7XFxuICBib3JkZXItcmFkaXVzOiA4cHg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgcGFkZGluZzogdmFyKC0tbGluay1wYWRkaW5nKTtcXG4gIGJhY2tncm91bmQ6IHZhcigtLXRlcnRpYXJ5LWJnLWNvbG9yKTtcXG59XFxuLmV2ZW50LXJlYWQtbW9yZXtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGZvbnQtc2l6ZTogdmFyKC0tZGVzY3JpcHRpb24tZm9udC1zaXplKTtcXG59XFxuXFxuXFxuLmVtcHR5LWRpdntcXG4gIGZsZXg6MVxcbn1cXG5cXG4uZXZlbnQtemlwe1xcbiAgbWFyZ2luLXRvcDogOHB4O1xcbn1cXG5cXG4ubG9jYXRpb24taWNvbiB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBwYWRkaW5nLWxlZnQ6IDMwcHg7XFxuICBtYXJnaW46IDBweCA4cHggMHB4IDBweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmxvY2F0aW9uLWljb246YWZ0ZXIge1xcbiAgY29udGVudDogJyc7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS10ZXJ0aWFyeS1iZy1jb2xvcik7XFxuICB3aWR0aDogMjBweDtcXG4gIGhlaWdodDogMjBweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IDEwcHg7XFxuICBib3JkZXItcmFkaXVzOiA1MCUgNTAlIDUwJSAwJTtcXG4gIHRyYW5zZm9ybTogcm90YXRlKC01MGRlZyk7XFxufVxcbi5sb2NhdGlvbi1pY29uOmJlZm9yZSB7XFxuICBjb250ZW50OiAnJztcXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xcbiAgd2lkdGg6IDhweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGhlaWdodDogOHB4O1xcbiAgbGVmdDogMTZweDtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gIHRvcDogMzNweDtcXG4gIHotaW5kZXg6IDE7XFxufVxcblxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMaXN0KHByb3BzKSB7XG4gIGNvbnN0IHtkYXRhLCBvbkNsaWNrLCBDb21wb25lbnRUeXBlfSA9IHByb3BzO1xuXG5cbiAgbGV0IGxpc3RVSSA9IGRhdGEubWFwKChsaXN0SXRlbSwgaW5kZXgpPT57XG4gICAgY29uc3QgbGlzdENsaWNrSGFuZGxlciA9ICgpPT57XG4gICAgICBvbkNsaWNrICYmIG9uQ2xpY2sobGlzdEl0ZW0pXG4gICAgfTtcbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBvbmVudFR5cGUga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2xpc3RDbGlja0hhbmRsZXJ9XG4gICAgICAgICAgICAgICAgICAgICBkYXRhPXtsaXN0SXRlbX0vPlxuICAgIClcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgPGRpdiBjbGFzc05hbWU9J2xpc3QtY29udGFpbmVyJz5cbiAgICB7bGlzdFVJfVxuICA8L2Rpdj4pXG59IiwiY29uc3Qgd2Vla2RheUFycmF5ID0gbmV3IEFycmF5KDcpO1xud2Vla2RheUFycmF5WzBdID0gXCJTdW5kYXlcIjtcbndlZWtkYXlBcnJheVsxXSA9IFwiTW9uZGF5XCI7XG53ZWVrZGF5QXJyYXlbMl0gPSBcIlR1ZXNkYXlcIjtcbndlZWtkYXlBcnJheVszXSA9IFwiV2VkbmVzZGF5XCI7XG53ZWVrZGF5QXJyYXlbNF0gPSBcIlRodXJzZGF5XCI7XG53ZWVrZGF5QXJyYXlbNV0gPSBcIkZyaWRheVwiO1xud2Vla2RheUFycmF5WzZdID0gXCJTYXR1cmRheVwiO1xuXG5jb25zdCBtb250aEFycmF5ID0gbmV3IEFycmF5KDEyKTtcbm1vbnRoQXJyYXlbMF0gPSBcIkphblwiO1xubW9udGhBcnJheVsxXSA9IFwiRmViXCI7XG5tb250aEFycmF5WzJdID0gXCJNYXJcIjtcbm1vbnRoQXJyYXlbM10gPSBcIkFwclwiO1xubW9udGhBcnJheVs0XSA9IFwiTWF5XCI7XG5tb250aEFycmF5WzVdID0gXCJKdW5cIjtcbm1vbnRoQXJyYXlbNl0gPSBcIkp1bFwiO1xubW9udGhBcnJheVs3XSA9IFwiQXVnXCI7XG5tb250aEFycmF5WzhdID0gXCJTZXBcIjtcbm1vbnRoQXJyYXlbOV0gPSBcIk9jdFwiO1xubW9udGhBcnJheVsxMF0gPSBcIk5vdlwiO1xubW9udGhBcnJheVsxMV0gPSBcIkRlY1wiO1xuXG5mdW5jdGlvbiBnZXRGb3JtYXR0ZWREYXRlKGRhdGVBc1N0cmluZyl7XG5cdGNvbnN0IGRhdGVPYmplY3QgPSBuZXcgRGF0ZShkYXRlQXNTdHJpbmcpO1xuXHRjb25zdCBkYXkgPSB3ZWVrZGF5QXJyYXlbZGF0ZU9iamVjdC5nZXREYXkoKV07XG5cdGNvbnN0IG1vbnRoID0gbW9udGhBcnJheVtkYXRlT2JqZWN0LmdldE1vbnRoKCldO1xuXHRjb25zdCBkYXRlID0gIGRhdGVPYmplY3QuZ2V0RGF0ZSgpO1xuXHRjb25zdCB5ZWFyID0gIGRhdGVPYmplY3QuZ2V0RnVsbFllYXIoKTtcblxuXHRyZXR1cm4ge1xuXHRcdGRheSxcblx0XHRtb250aCxcblx0XHRkYXRlLFxuXHRcdHllYXJcblx0fVxufVxuXG5mdW5jdGlvbiBpbWFnZUdldHRlcihkYXRhKXtcbiAgY29uc3Qge2NvdmVyfSA9IGRhdGE7XG4gIGlmKGNvdmVyKSB7XG4gICAgcmV0dXJuIGNvdmVyLnNvdXJjZTtcbiAgfVxuICByZXR1cm4gICcnXG59XG5cbmNvbnN0IHN1bUl0ZXJhdG9yID0gKGl0ZW0pPT57XG4gIGNvbnN0IGluX2NvdW50ID0gaXRlbVsnaW50ZXJlc3RlZF9jb3VudCddID09PSB1bmRlZmluZWQgPyAwIDogaXRlbVsnaW50ZXJlc3RlZF9jb3VudCddO1xuICBjb25zdCBhdF9jb3VudCA9IGl0ZW1bJ2F0dGVuZGluZ19jb3VudCddID09PSB1bmRlZmluZWQgPyAwIDogaXRlbVsnYXR0ZW5kaW5nX2NvdW50J107XG4gIHJldHVybiBpbl9jb3VudCArIGF0X2NvdW50ICsgMTtcbn07XG5cbmV4cG9ydCB7XG5cdGdldEZvcm1hdHRlZERhdGUsXG4gIGltYWdlR2V0dGVyLFxuICBzdW1JdGVyYXRvclxufSIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7Z2V0Rm9ybWF0dGVkRGF0ZX0gZnJvbSBcImNvbXBvbmVudHMvZXZlbnRzL2hlbHBlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFdmVudERlc2NyaXB0aW9uKHByb3BzKXtcblx0Y29uc3Qge2V2ZW50fSA9IHByb3BzO1xuXHRjb25zdCB7aWQ6ZXZlbnRJZCwgbmFtZSwgZGVzY3JpcHRpb24sIGNhdGVnb3J5LCBwbGFjZSwgc3RhcnRfdGltZX0gPSBldmVudDtcblx0Y29uc3Qge2RhdGUsIGRheSwgbW9udGgsIHllYXJ9ID0gZ2V0Rm9ybWF0dGVkRGF0ZShzdGFydF90aW1lKVxuXG5cdGxldCBwbGFjZVVJID0gbnVsbDtcblx0aWYocGxhY2UgJiYgcGxhY2UubG9jYXRpb24pe1xuXHRcdHBsYWNlVUkgPSA8RXZlbnRQbGFjZSB7Li4ucGxhY2V9Lz5cblx0fVxuXG5cblx0Y29uc3QgZXZlbnRVcmkgPSBgaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL2V2ZW50cy8ke2V2ZW50SWR9L2Bcblx0cmV0dXJuIChcblx0XHQ8ZGl2IGNsYXNzTmFtZT0nZXZlbnQtZGVzY3JpcHRpb24nPlxuXHRcdFx0PGg0IGNsYXNzTmFtZT0nZXZlbnQtbmFtZSc+e25hbWV9PC9oND5cblx0XHRcdDxwIGNsYXNzTmFtZT0nZXZlbnQtc3VtbWFyeSc+e2Rlc2NyaXB0aW9ufTwvcD5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdlbXB0eS1kaXYnPjwvZGl2PlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J2V2ZW50LXJlZGlyZWN0Jz5cblx0XHRcdFx0e3BsYWNlVUl9XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdlbXB0eS1kaXYnPjwvZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nZXZlbnQtdXJsJz5cblx0XHRcdFx0XHQ8YSAgY2xhc3NOYW1lPSdldmVudC1yZWFkLW1vcmUnIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9e2V2ZW50VXJpfT5SZWFkIE1vcmU8L2E+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cdClcbn1cblxuZnVuY3Rpb24gRXZlbnRQbGFjZShwcm9wcyl7XG5cdGNvbnN0IHtuYW1lLCBsb2NhdGlvbn0gPSBwcm9wcztcblx0Y29uc3Qge2NpdHksIGNvdW50cnksIHppcCwgbGF0aXR1ZGUsIGxvbmdpdHVkZX0gPSBsb2NhdGlvbjtcblx0Y29uc3QgZ29vZ2xlTWFwVXJpID0gYGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vbWFwcy9zZWFyY2gvP2FwaT0xJnF1ZXJ5PSR7bGF0aXR1ZGV9LCR7bG9uZ2l0dWRlfWBcblx0cmV0dXJuIChcblx0PGRpdiBjbGFzc05hbWU9J2V2ZW50LWxvY2F0aW9uJz5cblx0XHQ8YSBocmVmPXtnb29nbGVNYXBVcml9IHRhcmdldD0nX2JsYW5rJz48c3BhbiBjbGFzc05hbWU9J2V2ZW50LWxvY2F0aW9uLW5hbWUnPntuYW1lfTwvc3Bhbj48L2E+XG5cdFx0PGRpdiBjbGFzc05hbWU9J2V2ZW50LXBsYWNlJz5cblx0XHRcdDxzcGFuIGNsYXNzTmFtZT0nZXZlbnQtY2l0eSc+e2NpdHl9LDwvc3Bhbj5cblx0XHRcdDxzcGFuIGNsYXNzTmFtZT0nZXZlbnQtY291bnRyeSc+e2NvdW50cnl9PC9zcGFuPlxuXHRcdFx0ey8qPGRpdiBjbGFzc05hbWU9J2V2ZW50LXppcCc+e3ppcH08L2Rpdj4qL31cblx0XHQ8L2Rpdj5cblx0PC9kaXY+XG5cblx0KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEV2ZW50RGF0ZShwcm9wcyl7XG5cdGNvbnN0IHtkYXRlLCBkYXksIG1vbnRoLCB5ZWFyLCBjbGFzc05hbWV9ID0gcHJvcHM7XG5cblx0cmV0dXJuIChcblx0PGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG5cdFx0PGRpdiBjbGFzc05hbWU9J2V2ZW50LWRhdGUtZGF0ZSc+e2RhdGV9PC9kaXY+XG5cdFx0PGRpdiBjbGFzc05hbWU9J2V2ZW50LW1vbnRoJz57bW9udGh9PC9kaXY+XG5cdDwvZGl2PlxuXHQpXG59IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtnZXRGb3JtYXR0ZWREYXRlfSBmcm9tICcuL2hlbHBlcic7XG5pbXBvcnQgRXZlbnREYXRlIGZyb20gJy4vRXZlbnREYXRlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRXZlbnRJbWFnZUxheW92ZXIocHJvcHMpe1xuXHRjb25zdCB7dXJsLCBzdGFydH0gPSBwcm9wcztcblxuXHRjb25zdCB7ZGF0ZSwgZGF5LCBtb250aCwgeWVhcn0gPSBnZXRGb3JtYXR0ZWREYXRlKHN0YXJ0KVxuXG5cdHJldHVybiAoXG5cdDxkaXYgY2xhc3NOYW1lPSdpbWFnZS1jb250YWluZXInPlxuICAgIDxFdmVudERhdGUgY2xhc3NOYW1lPSdldmVudC1kYXRlJ1xuICAgICAgICAgICAgICAgZGF0ZT17ZGF0ZX1cbiAgICAgICAgICAgICAgIGRheT17ZGF5fVxuICAgICAgICAgICAgICAgbW9udGg9e21vbnRofVxuICAgICAgICAgICAgICAgeWVhcj17eWVhcn0vPlxuICAgIHsvKjxkaXYgY2xhc3NOYW1lPSdpbWFnZS1vdmVybGF5Jz48L2Rpdj4qL31cbiAgICA8aW1nIHNyYz17dXJsfS8+XG5cblx0PC9kaXY+XG5cdClcbn1cblxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IEV2ZW50SW1hZ2VMYXlvdmVyIGZyb20gJy4vSW1hZ2VMYXlvdmVyJztcbmltcG9ydCBFdmVudERlc2NyaXB0aW9uIGZyb20gJy4vRXZlbnREZXNjcmlwdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEV2ZW50KHByb3BzKSB7XG5cblx0Y29uc3Qge2RhdGF9ID0gcHJvcHM7XG5cdGNvbnN0IHsgY292ZXIsIHN0YXJ0X3RpbWV9ID0gZGF0YTtcblxuXHRsZXQgaW1hZ2VVSSA9IG51bGw7XG5cdGlmIChjb3Zlcikge1xuXHRcdGltYWdlVUkgPSAoPEV2ZW50SW1hZ2VMYXlvdmVyIHVybD17Y292ZXIuc291cmNlfSBzdGFydD17c3RhcnRfdGltZX0vPilcblx0fVxuXHRyZXR1cm4gKFxuXHQ8ZGl2IGNsYXNzTmFtZT0nZXZlbnQtY29udGFpbmVyJz5cblx0XHQ8ZGl2IGNsYXNzTmFtZT0nZXZlbnQnPlxuXHRcdFx0e2ltYWdlVUl9XG5cdFx0XHQ8RXZlbnREZXNjcmlwdGlvbiBldmVudD17ZGF0YX0vPlxuXG5cdFx0PC9kaXY+XG5cdDwvZGl2Pilcbn1cblxuXG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VTdGF0ZX0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3QgZnJvbSAnYWJzdHJhY3QvdWkvTGlzdCc7XG5pbXBvcnQge3VzZUdldEV2ZW50cywgdXNlR2V0TmVhcmVzdEV2ZW50fSBmcm9tICdjb250ZXh0L2NvbnN1bWVyJztcbmltcG9ydCBFdmVudERlc2NyaXB0aW9uIGZyb20gXCJjb21wb25lbnRzL2V2ZW50cy9FdmVudERlc2NyaXB0aW9uXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4vRXZlbnRcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRXZlbnRzKHByb3BzKXtcbiAgY29uc3Qge2dhcH0gPSBwcm9wcztcblx0Y29uc3QgZXZlbnRzID0gdXNlR2V0RXZlbnRzKCk7IC8vIGFjY2VzcyBkYXRhIGZyb20gdG9wIGxldmVsIHRocm91Z2ggY29udGV4dCBpbnN0ZWFkIG9mIHByb3BzXG5cdGNvbnN0IG5lYXJlc3RFdmVudCA9IHVzZUdldE5lYXJlc3RFdmVudCgpO1xuXG5cdGlmKCFldmVudHMgfHwgZXZlbnRzLmxlbmd0aCA9PSAwKXtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cblx0cmV0dXJuIChcblx0XHQ8ZGl2IGNsYXNzTmFtZT0nZXZlbnRzLWNvbnRhaW5lcic+XG5cdFx0XHQ8TGlzdCBkYXRhPXtldmVudHN9IENvbXBvbmVudFR5cGU9e0V2ZW50fS8+XG5cdFx0PC9kaXY+XG5cdClcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtTZXJ2aWNlUHJvdmlkZXJ9IGZyb20gJ2NvbnRleHQvcHJvdmlkZXInO1xuaW1wb3J0IEV2ZW50cyBmcm9tICdjb21wb25lbnRzL2V2ZW50cyc7XG5cbi8vdG9kbzogd3JpdGUgcXVlcnlCdWlsZGVyIHF1ZXJ5IGZvciBmYWNlYm9vayBldmVudHNcbmNvbnN0IGFjY2Vzc1Rva2VuID0gYEVBQUdMZ1pCNXhvY0lCQUJuZWk4a1pBWkFKZmpnTWR2QWNFREdYRE8zVjBKNEVFNVROQ3AwZnJKdzlTVDZlZHpVY2Z5dTBMUFNjR281N2xjNmhNb1IzU3B1UEdnQjYwRDFBN0s4VmQxSGdaQWJ2TjEzTU1FNGltUlpCQjhiVmVUQ282V0VaQkxOVWVQdUlyb2JpMGxiWkJ2cFdsUHJJOTZZZHYxd0U1YXc4Z05Jd1pEWkRgO1xuY29uc3QgZXZlbnRzVXJsID0gYGh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2ZpZWxkcz1ldmVudHN7YXR0ZW5kaW5nX2NvdW50LHBsYWNlLGludGVyZXN0ZWRfY291bnQscGhvdG9zLGNhdGVnb3J5LGNvdmVyLHN0YXJ0X3RpbWUsZW5kX3RpbWUsZGVzY3JpcHRpb24sbmFtZSxwaWN0dXJlfSZhY2Nlc3NfdG9rZW49JHthY2Nlc3NUb2tlbn1gO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBY3Rpdml0eShwcm9wcyl7XG5cdHJldHVybiAoXG5cdDxkaXYgY2xhc3NOYW1lPSdhY3Rpdml0eS1wYWdlJz5cblx0XHQ8U2VydmljZVByb3ZpZGVyIHVybD17ZXZlbnRzVXJsfSBtZXRob2Q9XCJHRVRcIiB0eXBlPVwiZXZlbnRzXCI+XG5cdFx0XHQ8RXZlbnRzIGdhcD17MTZ9Lz5cblx0XHQ8L1NlcnZpY2VQcm92aWRlcj5cblx0PC9kaXY+XG5cdClcbn0iXSwic291cmNlUm9vdCI6IiJ9